---
title: "Assignment 1"
author: "Walter Verwer    &     Bas Machielsen"
date: "1/3/2021"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(stargazer)
library(readr)
library(ivreg)
```

## Question 1

1. The sample selection model. A researcher aims to gain insight in the potential earnings of the non-employed. (In the data, the non-employed can be identified by a missing value for the earnings variable). She realizes that the sample of observed wages may be subject to sample selection.

(a) Run an OLS regression for log-earnings on schooling, age, and age squared. Present the results and comment on the estimates.
    
```{r, include=FALSE}
data <- read_csv("./Data/logEarnings.csv")
```
    
```{r, results='asis'}
model <- lm(data = data, formula = logWage ~ schooling + age + age2)
stargazer(model, type = "html")
```

The results show that 1 additional year of schooling has an effect of 0.216 on log(Wage), which means that it has an effect of `r exp(0.216)` on schooling. Hence, each year of schooling supposedly increases earnings with `r exp(0.216)`.


Hoi bas dit is een test. Hieronder doe ik code, wat ik wil laten zien:
```{r, include=TRUE}
x <- 3*3 + 1
```

(b) The researcher has collected data on two potential instrumental vari- ables subsidy and distance for years of schooling.
    - distance measures the distance between the school location and the residence of the individual while at school-going age.
    - subsidy is an indicator depending on regional subsidies of families for covering school expenses.
    
The researcher has the option to use only distance as an instrumen- tal variable, or to use only the instrumental variable subsidy, or to use both distance and subsidy as instrumental variables. Perform in- strumental variables estimation for these three options. Which option do you prefer? Include in your answer the necessary analyses and numbers on which you base your choice.

```{r}
firstoption <- ivreg(data = data, formula = 
                         logWage ~ age + age2 + schooling | distance + age + age2)

secondoption <- ivreg(data = data, formula =
                          logWage ~ age + age2 + schooling | subsidy + age + age2)

thirdoption <- ivreg(data = data, formula =
                          logWage ~ age + age2 + schooling | subsidy + distance + age + age2)
```

```{r results='asis'}
stargazer(firstoption, secondoption, thirdoption)
```
